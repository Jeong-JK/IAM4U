(this["webpackJsonpmbti-match-client"]=this["webpackJsonpmbti-match-client"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},123:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},144:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},181:function(e,t){},184:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),o=a(0),s=a.n(o),l=a(33),i=a.n(l),u=a(44),m=a(10),p=a(14),E=(a(106),a(4)),f="CHANGE_LOGIN_FORM",d="SUCCESS_USER_AUTHENTICATION",h="CONFIRMED_NOT_AUTHENTICATED",b="SUCCESS_REGISTER_MEMBER",g="USER_LOGOUT",v="CHANGE_REGISTER_FORM",j="SUCCESS_USER_DATA_UPDATE",O="GET_GEOLOCATION",C="LOAD_USERS_SUCCESS",N="INCREASE_CHOICE_COUNT",y="RESET_CHOICE_COUNT",w="INCREASE_PAGE_INDEX",S="SELECTED_ALL_MEMBERS",x="ADD_NEW_USERS_LIST",k="LEAVE_MEMBERS_LIST",_="LOAD_CHATS_LIST_SUCCESS",I="ENTER_CHAT_ROOM",T="ADD_NEW_MESSAGE",A="LEAVE_ROOM",P="CHANGE_EDIT_FORM",R="NONE_CHATS",U=a(6),F=(a(107),a(189)),L={Auth:{region:"ap-northeast-2",userPoolId:"ap-northeast-2_he0NwXfAK",userPoolWebClientId:"r8ro24j5m9ggjdlq3rvkunsfn",mandatorySignIn:!1,authenticationFlowType:"USER_PASSWORD_AUTH"}},M=a(55);M.a.configure(L);var D,G,J=function(e){var t=e.onSubmit,a=e.onChange,n=e.login,r=e.error,c="";return c=Array.isArray(r)?r.map(function(e){return s.a.createElement("p",{className:"error"},e)}):s.a.createElement("p",{className:"error"},r),s.a.createElement("div",{className:"loginForm form"},s.a.createElement("div",{className:"errors"},c),s.a.createElement("form",{onSubmit:t},s.a.createElement("input",{type:"email",name:"email",placeholder:"email",maxLength:"80",value:n?n.email:"",onChange:a,required:!0}),s.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:n?n.password:"",onChange:a,required:!0}),s.a.createElement("button",{type:"submit"},"Login")),s.a.createElement(p.b,{to:"/signup",className:"button"},"Sign up"))},q=(a(123),function(){return s.a.createElement("div",{className:"logo-wrap"},s.a.createElement("div",{className:"logo-area"},s.a.createElement("h1",{className:"logo","data-heading":"MATCH \u2661 MINDS"},"MATCH \u2661 MINDS")))}),B=function(e){var t=e.name,a=e.value;return{type:v,name:t,value:a}},H=function(e){var t="",a="",n="";return e&&e.mbti&&e.mbti.type&&(t=e.mbti.type),e&&e.name&&(a=e.name),e&&e.description&&(n=e.description),{type:b,user:e,edit:{mbti:t,name:a,description:n}}},z=function(e,t){return{type:O,state:e,location:t}},V=function(e){return{type:d,user:e,edit:{mbti:e.mbti.type,name:e.name,description:e.description}}},K=function(e){return{type:j,user:e}},X=function(){return{type:S}},W=function(e){return{type:_,chats:e}},Z=function(e){return{type:I,chat:e}},$=a(8),Q=a(13),Y=a.n(Q);D="https://jxsbyfmks7.execute-api.ap-northeast-2.amazonaws.com/prod",G="http://3.38.152.226:8080";var ee=Object.freeze({ROOT:D,SOCKET_ROOT:G});function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach(function(t){Object($.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}Y.a.defaults.withCredentials=!0;var ne=ee.ROOT,re=function(e,t){return Y.a.post("".concat(ne,"/api/signup"),ae({},t)).then(function(t){return Y.a.post("".concat(ne,"/api/upload"),e).then(function(e){return{data:e.data,error:""}}).catch(function(e){return{error:e.response.data.message||"server error"}})}).catch(function(e){var t="server error";return e&&e.response&&e.response.data&&e.response.data.message&&(t=e.response.data.message),{error:t}})},ce=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("jwt"),e.next=4,Y.a.get("".concat(ee.ROOT,"/auth/user"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),n="server error",e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message&&(n=e.t0.response.data.message),e.abrupt("return",{error:n});case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),oe=function(e){var t=e.limit,a=e.pageIndex;return Y()({url:"".concat(ne,"/api/users?limit=").concat(t,"&pageIndex=").concat(a),method:"GET"}).then(function(e){return e.data}).catch(function(e){console.log(e)})},se=function(e){return Y()({url:"".concat(ne,"/api/users/likes/").concat(e),method:"PUT"}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},le=function(e){return Y()({url:"".concat(ne,"/api/chats/").concat(e),method:"GET"}).then(function(e){return e.data.chat}).catch(function(e){console.log(e)})},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Y.a.put("".concat(ne,"/api/user"),ae({},e)).then(function(e){return t?Y.a.put("/api/upload",t).then(function(e){return e.data.user}).catch(function(e){return{error:e.response.data.message||"server error"}}):e.data.user}).catch(function(e){return{error:e.response.data.message||"server error"}})},ue=a(28);function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return{};var t={},a=[];return Object(ue.forEach)(e,function(n,r){(Object(ue.isPlainObject)(n)||Object(ue.isArray)(n))&&(n=me(n)),Object(ue.isArray)(e)?a.push(n):t[Object(ue.camelCase)(r)]=n}),Object(ue.isArray)(e)?a:t}M.a.configure(L);var pe=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(m.c)(function(e){return e.login}),i=Object(m.b)(),u=Object(E.q)();Object(o.useEffect)(function(){new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)}).then(function(e){console.log(e.coords),i(z("login",{latitude:e.coords.latitude,longitude:e.coords.longitude}))}).catch(function(){n("\ud604\uc7ac \uc704\uce58\ub97c \ubc1b\uc544\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})},[i]);var p=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,o,s,m,p,E;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,F.a.signIn(l.email,l.password);case 4:if(a=e.sent,c=a.signInUserSession.idToken.jwtToken,localStorage.setItem("jwt",c),o=localStorage.getItem("jwt")){e.next=11;break}return n("\ub85c\uadf8\uc778 \uc138\uc158\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 11:return e.next=13,fetch("".concat("https://jxsbyfmks7.execute-api.ap-northeast-2.amazonaws.com/prod","/auth/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(o)}});case 13:if(!(s=e.sent).ok){e.next=22;break}return e.next=17,s.json();case 17:m=e.sent,console.log("\u2705 \uc720\uc800 \uc815\ubcf4:",m),m&&m.user?(i(V(me(m.user))),u("/profile")):n("\uc720\uc800 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),e.next=35;break;case 22:return console.error("\u274c \uc11c\ubc84 \uc624\ub958 [".concat(s.status,"]")),p="\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",e.prev=24,e.next=27,s.json();case 27:E=e.sent,p=E.message||p,e.next=34;break;case 31:e.prev=31,e.t0=e.catch(24),console.error("\uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud30c\uc2f1 \uc2e4\ud328:",e.t0);case 34:n(p);case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(1),console.error("API \ud638\ucd9c \uc2e4\ud328:",e.t1),"UserNotConfirmedException"===e.t1.name?n("\uc774\uba54\uc77c \uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."):"NotAuthorizedException"===e.t1.name?n("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):n("\ub85c\uadf8\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 41:case"end":return e.stop()}},e,null,[[1,37],[24,31]])}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(q,null),s.a.createElement(J,{onChange:function(e){var t=e.target,a=t.value,n=t.name;i(function(e){var t=e.name,a=e.value;return{type:f,name:t,value:a}}({name:n,value:a}))},onSubmit:p,error:a,login:l}))};a(140);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach(function(t){Object($.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var de="https://jxsbyfmks7.execute-api.ap-northeast-2.amazonaws.com/prod",he=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c,o,s,l,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=t.file){e.next=5;break}return alert("\ud30c\uc77c\uc774 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 5:return e.next=7,Y.a.post("".concat(de,"/api/upload"),{fileName:a.name,fileType:a.type},{headers:{"Content-Type":"application/json"}});case 7:return n=e.sent,c=n.data,o=c.uploadURL,s=c.key,e.next=11,Y.a.put(o,a,{headers:{"Content-Type":a.type}});case 11:return console.log("\u2705 \ud30c\uc77c \uc5c5\ub85c\ub4dc \uc131\uacf5:",s),l=t.email,i=t.password,e.next=15,F.a.signUp({username:l,password:i,attributes:{email:l}});case 15:return e.next=17,Y.a.post("".concat(de,"/api/signup"),fe({},t,{profileImage:s}));case 17:alert("\uac00\uc785 \uc131\uacf5! \uc774\uba54\uc77c \uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694."),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("\ud68c\uc6d0\uac00\uc785 \uc5d0\ub7ec:",e.t0),e.t0.response?console.error("\uc11c\ubc84 \uc751\ub2f5 \uc5d0\ub7ec:",e.t0.response.data):e.t0.message&&console.error("\uc5d0\ub7ec \uba54\uc2dc\uc9c0:",e.t0.message),alert("\uac00\uc785 \uc2e4\ud328!");case 25:case"end":return e.stop()}},e,null,[[0,20]])}));return function(t){return e.apply(this,arguments)}}(),be=function(e){var t=e.onChange,a=e.register,n=e.error,l=e.onFileChange,i=e.isSignupComplete,u=e.code,m=e.setCode,p=e.handleConfirmCode,E=e.handleResendCode,f=null;Object(o.useEffect)(function(){f.scrollIntoView({block:"start"})},[n,f]);var d=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,he(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"signupForm form"},i?s.a.createElement("div",{className:"verify-section"},s.a.createElement("h3",null,"\uc774\uba54\uc77c \uc778\uc99d"),s.a.createElement("p",null,"\uc774\uba54\uc77c\ub85c \uc804\uc1a1\ub41c \uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694."),s.a.createElement("input",{type:"text",value:u,onChange:function(e){return m(e.target.value)},placeholder:"\uc778\uc99d \ucf54\ub4dc \uc785\ub825"}),s.a.createElement("button",{onClick:p},"\uc778\uc99d \ud655\uc778"),s.a.createElement("button",{onClick:E},"\uc778\uc99d \ucf54\ub4dc \uc7ac\uc804\uc1a1"),n&&s.a.createElement("p",{className:"error"},n)):s.a.createElement("form",{onSubmit:d,ref:function(e){return f=e}},s.a.createElement("p",{className:"error"},n),s.a.createElement("label",{htmlFor:"mbit",required:!0},"MBTI"),s.a.createElement("select",{name:"mbti",id:"mbti",required:!0,value:a.mbti,onChange:t},s.a.createElement("option",{value:""},"mbti\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."),s.a.createElement("option",{value:"intj"},"INTJ \uc6a9\uc758\uc8fc\ub3c4\ud55c \uc804\ub7b5\uac00"),s.a.createElement("option",{value:"intp"},"INTP \ub17c\ub9ac\uc801\uc778 \uc0ac\uc0c9\uac00"),s.a.createElement("option",{value:"entj"},"ENTJ \ub300\ub2f4\ud55c \ud1b5\uc194\uc790"),s.a.createElement("option",{value:"entp"},"ENTP \ub728\uac70\uc6b4 \ub17c\uc7c1\uc744 \uc990\uae30\ub294 \ubcc0\ub860\uac00"),s.a.createElement("option",{value:"infj"},"INFJ \uc120\uc758\uc758 \uc639\ud638\uc790"),s.a.createElement("option",{value:"infp"},"INFP \uc5f4\uc815\uc801\uc778 \uc911\uc7ac\uc790"),s.a.createElement("option",{value:"enfj"},"ENFJ \uc815\uc758\ub85c\uc6b4 \uc0ac\ud68c\uc6b4\ub3d9\uac00"),s.a.createElement("option",{value:"enfp"},"ENFP \uc7ac\uae30\ubc1c\ub784\ud55c \ud65c\ub3d9\uac00"),s.a.createElement("option",{value:"istj"},"ISTJ \uccad\ub834\uacb0\ubc31\ud55c \ub17c\ub9ac\uc8fc\uc758\uc790"),s.a.createElement("option",{value:"isfj"},"ISFJ \uc6a9\uac10\ud55c \uc218\ud638\uc790"),s.a.createElement("option",{value:"estj"},"ESTJ \uc5c4\uaca9\ud55c \uad00\ub9ac\uc790"),s.a.createElement("option",{value:"esfj"},"ESFJ \uc0ac\uad50\uc801\uc778 \uc678\uad50\uad00"),s.a.createElement("option",{value:"istp"},"ISTP \ub9cc\ub2a5 \uc7ac\uc8fc\uafbc"),s.a.createElement("option",{value:"isfp"},"ISFP \ud638\uae30\uc2ec \ub9ce\uc740 \uc608\uc220\uac00"),s.a.createElement("option",{value:"estp"},"ESTP \ubaa8\ud5d8\uc744 \uc990\uae30\ub294 \uc0ac\uc5c5\uac00"),s.a.createElement("option",{value:"esfp"},"ESFP \uc790\uc720\ub85c\uc6b4 \uc601\ud63c\uc758 \uc5f0\uc608\uc778")),s.a.createElement("p",null,"mbti\ub97c \ubaa8\ub974\uc2e0\ub2e4\uba74",s.a.createElement("a",{href:"https://www.16personalities.com/ko/%EB%AC%B4%EB%A3%8C-%EC%84%B1%EA%B2%A9-%EC%9C%A0%ED%98%95-%EA%B2%80%EC%82%AC"},"mbti \uc0ac\uc774\ud2b8"),"\uc5d0\uc11c \uac80\uc0ac\ub97c \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4."),s.a.createElement("label",{htmlFor:"email"},"email"),s.a.createElement("input",{type:"email",name:"email",required:!0,value:a.email,onChange:t,maxLength:"100"}),s.a.createElement("label",{htmlFor:"password"},"password"),s.a.createElement("input",{type:"password",name:"password",required:!0,value:a.password||"",onChange:t,maxLength:"18",minLength:"6"}),s.a.createElement("label",{htmlFor:"passwordConfirm"},"password confirm"),s.a.createElement("input",{type:"password",name:"passwordConfirm",required:!0,value:a.passwordConfirm||"",onChange:t,maxLength:"18",minLength:"6"}),s.a.createElement("label",{htmlFor:"name"},"name"),s.a.createElement("input",{type:"text",name:"name",required:!0,value:a.name||"",onChange:t,maxLength:"13"}),s.a.createElement("p",{className:"title"},"\uc131\ubcc4"),s.a.createElement("div",{className:"gender-area"},s.a.createElement("input",{type:"radio",name:"gender",value:"female",id:"female",checked:"female"===a.gender,onChange:t,required:!0}),s.a.createElement("label",{htmlFor:"female"},"\uc5ec\uc131"),s.a.createElement("input",{type:"radio",name:"gender",value:"male",id:"male",checked:"male"===a.gender,onChange:t}),s.a.createElement("label",{htmlFor:"male"},"\ub0a8\uc131")),s.a.createElement("label",{htmlFor:"file"},"\ud504\ub85c\ud544 \uc0ac\uc9c4"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:l,accept:"image/x-png,image/gif,image/jpeg",required:!0}),s.a.createElement("label",{htmlFor:"description"},"\uc790\uae30\uc18c\uac1c"),s.a.createElement("textarea",{type:"text",name:"description",maxLength:"60",value:a.description,onChange:t}),s.a.createElement("button",null,"Sign up")))},ge=(a(141),function(e){var t=e.title,a=Object(E.q)();return s.a.createElement("div",{className:"back-tab",onClick:function(){a(-1)}},"\u2190 ",t)}),ve=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(null),i=Object(U.a)(l,2),u=i[0],p=(i[1],Object(o.useState)("")),f=Object(U.a)(p,2),d=f[0],h=f[1],b=Object(o.useState)(!1),g=Object(U.a)(b,2),v=g[0],j=g[1],O=Object(m.c)(function(e){return e.register}),C=Object(m.b)(),N=Object(E.q)();Object(o.useEffect)(function(){new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)}).then(function(e){C(z("register",{latitude:e.coords.latitude,longitude:e.coords.longitude}))}).catch(function(){n("\ud604\uc7ac \uc704\uce58\ub97c \ubc1b\uc544\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})},[C]);var y=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,o,s,l,i,m,p,E;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,18}$/,c=O.email,o=O.password,s=O.passwordConfirm,l=O.name,i=O.mbti,m=O.gender,![c,o,s,l,i,m].includes("")){e.next=6;break}return n("\ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694."),e.abrupt("return");case 6:if(a.test(o)){e.next=9;break}return n("\ube44\ubc00\ubc88\ud638\ub294 \uc22b\uc790\uc640 \uc601\ubb38 \ud3ec\ud568 6\uc790 \uc774\uc0c1 18\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 9:if(o===s){e.next=14;break}return n("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),C(B({key:"password",value:""})),C(B({key:"passwordConfirm",value:""})),e.abrupt("return");case 14:return(p=new FormData).append("file",u),p.append("email",O.email),p.append("password",O.password),p.append("name",O.name),p.append("mbti",O.mbti),p.append("gender",O.gender),e.prev=21,e.next=24,re(p,O);case 24:return E=e.sent,console.log("[DEBUG] postSignup result.data:",E.data),e.next=28,C(H(me(E.data)));case 28:alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5! \uc774\uba54\uc77c\ub85c \uc804\uc1a1\ub41c \uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),j(!0),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(21),console.error("\ud68c\uc6d0\uac00\uc785 \uc624\ub958:",e.t0),n("\ud68c\uc6d0\uac00\uc785 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 36:case"end":return e.stop()}},e,null,[[21,32]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.confirmSignUp(O.email,d);case 3:alert("\u2705 \uc774\uba54\uc77c \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),N("/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("\uc778\uc99d \uc2e4\ud328:",e.t0),n("\u274c \uc778\uc99d\ubc88\ud638\uac00 \uc798\ubabb\ub418\uc5c8\uac70\ub098 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(ge,{title:"Sign up"}),s.a.createElement(be,{register:O,onChange:function(e){var t=e.target,a=t.value,n=t.name;C(B({name:n,value:a}))},onFileChange:function(e){var t=e.target.files[0];C(B({name:"file",value:t}))},onSubmit:y,error:a,isSignupComplete:v,code:d,setCode:h,handleConfirmCode:w,handleResendCode:Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.resendSignUp(O.email);case 3:alert("\ud83d\udce7 \uc778\uc99d\ubc88\ud638\uac00 \ub2e4\uc2dc \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("\uc7ac\uc804\uc1a1 \uc2e4\ud328:",e.t0),n("\uc778\uc99d\ubc88\ud638 \uc7ac\uc804\uc1a1 \uc911 \uc624\ub958 \ubc1c\uc0dd.");case 10:case"end":return e.stop()}},e,null,[[0,6]])}))}),v&&s.a.createElement("div",{style:{padding:"20px"}},s.a.createElement("h3",null,"\uc774\uba54\uc77c\ub85c \ubc1b\uc740 \uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694"),s.a.createElement("input",{type:"text",value:d,onChange:function(e){return h(e.target.value)},placeholder:"\uc778\uc99d \ucf54\ub4dc \uc785\ub825"}),s.a.createElement("button",{onClick:w},"\uc778\uc99d \uc644\ub8cc")))},je=a(19),Oe=a(18),Ce=(a(144),function(){return s.a.createElement("nav",{className:"tab-list"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(p.c,{to:"/profile",activeClassName:"selected"},s.a.createElement(Oe.a,{icon:je.g}))),s.a.createElement("li",null,s.a.createElement(p.c,{to:"/users/list",activeClassName:"selected"},s.a.createElement(Oe.a,{icon:je.h}))),s.a.createElement("li",null,s.a.createElement(p.c,{to:"/chats",activeClassName:"selected"},s.a.createElement(Oe.a,{icon:je.b})))))}),Ne=a(92),ye=a.n(Ne),we=(a(147),function(e){var t=e.partner,a=e.view,n=e.matchData,r=e.myMbti,c=e.myName,o=25*n.match(/\d+/)[0];return s.a.createElement("div",{className:"choice-list show-".concat(a)},t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"front card"},s.a.createElement("img",{src:t.profileImage,className:"profile-image",alt:"profile"}),s.a.createElement("div",{className:"info"},s.a.createElement("p",{className:"name"},t.name),s.a.createElement("pre",{className:"description"},t.description))),s.a.createElement("div",{className:"back card ".concat(n)},s.a.createElement("p",{className:"title"},"\ub0b4 MBTI\uc640\uc758",s.a.createElement("br",null)," \uc801\ud569\uc131\uc740?"),s.a.createElement("ul",{className:"emoji-list"},s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--haha"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"},s.a.createElement("div",{className:"emoji__tongue"}))))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--yay"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__mouth"})))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--wow"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"})))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--sad"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"})))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--angry"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"}))))),s.a.createElement("div",{className:"figure"},s.a.createElement(ye.a,{start:0,end:o,duration:3}),s.a.createElement("span",null,"%")),s.a.createElement("ul",{className:"mbti-info"},s.a.createElement("li",null,s.a.createElement("p",{className:"name"},c),s.a.createElement("p",{className:"mbti"},r)),s.a.createElement("li",{className:"arrow"},s.a.createElement(Oe.a,{icon:je.a})),s.a.createElement("li",null,s.a.createElement("p",{className:"name"},t.name),s.a.createElement("p",{className:"mbti"},t.mbti.type))))))}),Se=(a(148),function(e){var t=e.onLikeClick,a=e.onUnLikeClick;return s.a.createElement("div",{className:"choice-tab"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("button",{onClick:t},s.a.createElement(Oe.a,{icon:je.e}),s.a.createElement("span",null,"Like"))),s.a.createElement("li",null,s.a.createElement("button",{onClick:a},s.a.createElement(Oe.a,{icon:je.f}),s.a.createElement("span",null,"Pass")))))}),xe=(a(149),function(e){var t=e.onNextClick;return s.a.createElement("div",{className:"next-tab"},s.a.createElement("button",{onClick:t},s.a.createElement("span",null,"next"),s.a.createElement(Oe.a,{icon:je.c})))}),ke=function(e){var t=e.notice,a=void 0===t?null:t;return s.a.createElement("div",{className:"notice-content"},s.a.createElement(q,null),s.a.createElement("p",null,a))},_e=(a(150),function(e){var t=e.onPopupClick;return s.a.createElement("div",{className:"popup",onClick:t},s.a.createElement("p",null,"\ucc44\ud305\ubc29\uc774",s.a.createElement("br",null)," \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s.a.createElement("button",null,"\ud655\uc778"))}),Ie=function(){var e=Object(o.useState)("front"),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)("level0"),i=Object(U.a)(l,2),u=i[0],p=i[1],E=Object(o.useState)(!1),f=Object(U.a)(E,2),d=f[0],h=f[1],b=Object(o.useState)("\uc720\uc800 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4.\ud83d\ude4f"),g=Object(U.a)(b,2),v=g[0],j=g[1],O=Object(m.b)(),y=Object(m.c)(function(e){return{users:e.users,user:e.user,pageIndex:e.pageIndex,hasUsersNotice:e.hasUsersNotice,choiceCount:e.choiceCount,totalUserCount:e.totalUserCount,totalChoiceCount:e.totalChoiceCount}}),w=y.users,S=y.user,x=(y.pageIndex,y.hasUsersNotice),_=y.choiceCount,I=y.totalUserCount,T=y.totalChoiceCount;Object(o.useEffect)(function(){return function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({limit:5,pageIndex:0});case 2:if((t=e.sent).total_user_count){e.next=7;break}return j("\ubaa8\ub4e0 \ud68c\uc6d0\uc744 \uc120\ud0dd \ud558\uc168\uc2b5\ub2c8\ub2e4~! \uace0\uc0dd\ud558\uc168\uc2b5\ub2c8\ub2e4!\ud83d\udc4f"),O(X()),e.abrupt("return");case 7:O((a=me(t),{type:C,users:a.users,totalUserCount:a.totalUserCount}));case 8:case"end":return e.stop()}var a},e)}));return function(){return e.apply(this,arguments)}}()(),function(){O({type:k})}},[O]);var A=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y()({url:"".concat(ne,"/api/user/likes"),method:"GET"}).then(function(e){return e.data.likes_me}).catch(function(e){console.log(e)});case 2:if(!e.sent.includes(w[_].id)){e.next=9;break}return e.next=6,a=w[_].id,Y()({url:"".concat(ne,"/api/chats/").concat(a),method:"POST"}).then(function(e){return e.data}).catch(function(e){console.log(e)});case 6:h(!0),e.next=10;break;case 9:se(w[_].id);case 10:n("back"),t=Object.keys(S.mbti).find(function(e){if("object"===typeof S.mbti[e])return S.mbti[e].includes(w[_].mbti.type)}),p(t);case 13:case"end":return e.stop()}var a},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(w[_].id);case 2:R();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I!==T+1){e.next=4;break}return j("\ubaa8\ub4e0 \ud68c\uc6d0\uc744 \uc120\ud0dd \ud558\uc168\uc2b5\ub2c8\ub2e4~! \uace0\uc0dd\ud558\uc168\uc2b5\ub2c8\ub2e4!"),O(X()),e.abrupt("return");case 4:O({type:N}),n("front"),p("level0");case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"page-wrap"},s.a.createElement(Ce,null),x?s.a.createElement(ke,{notice:v}):s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{partner:w[_],view:a,matchData:u,myMbti:S.mbti.type,myName:S.name}),"front"===a&&s.a.createElement(Se,{onLikeClick:A,onUnLikeClick:P})||s.a.createElement(xe,{onNextClick:R}),d&&s.a.createElement(_e,{onPopupClick:function(){h(!1)}})))},Te=(a(151),function(e){var t=e.user,a=t.profileImage,n=t.name,r=t.mbti,c=t.likeMe,o=t.description;return s.a.createElement("div",{className:"profile-area"},s.a.createElement("img",{src:a,alt:"profile",className:"profile-image"}),s.a.createElement("p",null,s.a.createElement("span",{className:"name"},n),s.a.createElement("span",{className:"mbti"},r.type)),s.a.createElement("p",{className:"likes"},s.a.createElement(Oe.a,{icon:je.d}),s.a.createElement("span",{className:"num"},c.length)),o&&s.a.createElement("pre",{className:"description"},o))}),Ae=function(){var e=Object(m.b)(),t=Object(m.c)(function(e){return{user:e.user}}).user,a=function(){var t=Object(c.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Y()({url:"".concat(ne,"/api/logout"),method:"GET"}).catch(function(e){console.log(e)}).then(function(t){e({type:g})});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("jwt")){e.next=3;break}return e.abrupt("return",alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."));case 3:return e.prev=3,e.next=6,fetch("https://wfqynf004c.execute-api.ap-northeast-2.amazonaws.com/prod/user",{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,console.log("\uc751\ub2f5:",n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("API \ud638\ucd9c \uc624\ub958:",e.t0);case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ce,null),s.a.createElement("div",{className:"content"},s.a.createElement(Te,{user:t}),s.a.createElement(p.b,{to:"/profile/edit",className:"link-button"},"\uc218\uc815\ud558\uae30"),s.a.createElement("button",{href:"#none",onClick:a,className:"link-button"},"\ub85c\uadf8\uc544\uc6c3"),s.a.createElement("button",{onClick:n},"\ub0b4 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30")))},Pe=(a(152),function(e){var t=e.onSubmit,a=e.onChange,n=e.edit,r=e.error,c=e.onFileChange,l=null;return Object(o.useEffect)(function(){l.scrollIntoView({block:"start"})},[r,l]),s.a.createElement("div",{className:"edit-form form"},s.a.createElement("form",{onSubmit:t,ref:function(e){return l=e}},s.a.createElement("p",null,r),s.a.createElement("select",{name:"mbti",id:"mbti",required:!0,value:n.mbti,onChange:a},s.a.createElement("option",{value:""},"mbti\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."),s.a.createElement("option",{value:"intj"},"INTJ \uc6a9\uc758\uc8fc\ub3c4\ud55c \uc804\ub7b5\uac00"),s.a.createElement("option",{value:"intp"},"INTP \ub17c\ub9ac\uc801\uc778 \uc0ac\uc0c9\uac00"),s.a.createElement("option",{value:"entj"},"ENTJ \ub300\ub2f4\ud55c \ud1b5\uc194\uc790"),s.a.createElement("option",{value:"entp"},"ENTP \ub728\uac70\uc6b4 \ub17c\uc7c1\uc744 \uc990\uae30\ub294 \ubcc0\ub860\uac00"),s.a.createElement("option",{value:"infj"},"INFJ \uc120\uc758\uc758 \uc639\ud638\uc790"),s.a.createElement("option",{value:"infp"},"INFP \uc5f4\uc815\uc801\uc778 \uc911\uc7ac\uc790"),s.a.createElement("option",{value:"enfj"},"ENFJ \uc815\uc758\ub85c\uc6b4 \uc0ac\ud68c\uc6b4\ub3d9\uac00"),s.a.createElement("option",{value:"enfp"},"ENFP \uc7ac\uae30\ubc1c\ub784\ud55c \ud65c\ub3d9\uac00"),s.a.createElement("option",{value:"istj"},"ISTJ \uccad\ub834\uacb0\ubc31\ud55c \ub17c\ub9ac\uc8fc\uc758\uc790"),s.a.createElement("option",{value:"isfj"},"ISFJ \uc6a9\uac10\ud55c \uc218\ud638\uc790"),s.a.createElement("option",{value:"estj"},"ESTJ \uc5c4\uaca9\ud55c \uad00\ub9ac\uc790"),s.a.createElement("option",{value:"esfj"},"ESFJ \uc0ac\uad50\uc801\uc778 \uc678\uad50\uad00"),s.a.createElement("option",{value:"istp"},"ISTP \ub9cc\ub2a5 \uc7ac\uc8fc\uafbc"),s.a.createElement("option",{value:"isfp"},"ISFP \ud638\uae30\uc2ec \ub9ce\uc740 \uc608\uc220\uac00"),s.a.createElement("option",{value:"estp"},"ESTP \ubaa8\ud5d8\uc744 \uc990\uae30\ub294 \uc0ac\uc5c5\uac00"),s.a.createElement("option",{value:"esfp"},"ESFP \uc790\uc720\ub85c\uc6b4 \uc601\ud63c\uc758 \uc5f0\uc608\uc778")),s.a.createElement("label",{htmlFor:"name"},"name"),s.a.createElement("input",{type:"text",name:"name",required:!0,value:n.name,onChange:a,maxLength:"13"}),s.a.createElement("label",{htmlFor:"file"},"\ud504\ub85c\ud544 \uc0ac\uc9c4"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:c,accept:"image/x-png,image/gif,image/jpeg"}),s.a.createElement("p",{className:"title"},"\ud68c\uc6d0\ub2d8\uc758 \uc815\ubcf4"),s.a.createElement("textarea",{name:"description",className:"description",cols:"20",rows:"3",maxLength:"100",value:n.description,onChange:a}),s.a.createElement("button",null,"\uc218\uc815\ud558\uae30")))}),Re=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(null),i=Object(U.a)(l,2),u=i[0],p=i[1],E=Object(m.c)(function(e){return{edit:e.edit,user:e.user}}),f=E.edit,d=E.user,h=Object(m.b)(),b=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=f.name,c=f.mbti,![a,c].includes("")){e.next=5;break}return n("\ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694."),e.abrupt("return");case 5:if((o=new FormData).append("file",u),u){e.next=13;break}return e.next=10,ie(f);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,ie(f,o);case 15:e.t0=e.sent;case 16:s=e.t0,h(K(me(s)));case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(ge,{title:"Settings"}),s.a.createElement(Pe,{user:d,edit:f,onChange:function(e){var t=e.target,a=t.value,n=t.name;h(function(e){var t=e.name,a=e.value;return{type:P,name:t,value:a}}({name:n,value:a}))},onFileChange:function(e){p(e.target.files[0])},onSubmit:b,error:a}))},Ue=(a(153),function(e){var t=e.chats,a=t.map(function(e,a){return s.a.createElement("li",{key:a},s.a.createElement(p.b,{to:"/chat/room/".concat(e._id)},s.a.createElement("div",{className:"left"},s.a.createElement("img",{src:e.partner.profile_image,alt:"profile"})),s.a.createElement("div",{className:"right"},s.a.createElement("p",{className:"name"},e.partner.name),t[a].messages.length&&s.a.createElement("p",{className:"message"},t[a].messages[t[a].messages.length-1].content)||s.a.createElement("p",{className:"message none"},"\uba3c\uc800 \uc778\uc0ac\ud574 \ubcf4\uc138\uc694~!"))))});return s.a.createElement("div",{className:"chat-list"},s.a.createElement("ul",null,a))}),Fe=function(){var e=Object(o.useState)("\ucc44\ud305 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4.\ud83d\ude4f"),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(m.c)(function(e){return{chats:e.chats,hasChatsNotice:e.hasChatsNotice}}),i=l.chats,u=l.hasChatsNotice,p=Object(m.b)();return Object(o.useEffect)(function(){(function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y()({url:"".concat(ne,"/api/chats"),method:"GET"}).then(function(e){return e.data}).catch(function(e){console.log(e)});case 2:if((t=e.sent).chats.length){e.next=6;break}return n("\ucc44\ud305 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\ud83d\ude2d"),e.abrupt("return");case 6:p(W(t.chats));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[p]),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ce,null),u?s.a.createElement(ke,{notice:a}):s.a.createElement(Ue,{chats:i}))},Le=(a(154),function(e){var t=e.onMessageChange,a=e.message,n=e.onSubmit,r=e.onKeyPress;return s.a.createElement("div",{className:"input-message"},s.a.createElement("input",{type:"text",className:"input-text",onChange:t,value:a,onKeyPress:r}),s.a.createElement("button",{onClick:n},"\uc804\uc1a1"))}),Me=(a(155),function(e){var t=e.chats,a=e.user,n=null,r="";return Object(o.useEffect)(function(){n.scrollIntoView({block:"end"})},[t,n]),t.hasOwnProperty("messages")&&(r=t.messages.map(function(e,n){var r=e.speaker!==a.id?"left":"right",c=e.speaker===a.id?a:t.partner;return s.a.createElement("li",{key:n,className:"".concat(r," ").concat(c===t.partner?"partner":"me")},s.a.createElement("img",{src:c.profileImage,className:"profile-image",alt:"profile"}),c===t.partner&&s.a.createElement("p",{className:"name"},c.name),s.a.createElement("p",{className:"talk"},e.content))})),s.a.createElement("div",{className:"messages"},s.a.createElement("ul",{ref:function(e){return n=e}},r))}),De=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(m.c)(function(e){return{client:e.client,user:e.user,currentRoomChat:e.currentRoomChat}}),i=l.client,u=l.user,p=l.currentRoomChat,f=Object(m.b)(),d=Object(E.s)().roomId,h=u.id;Object(o.useEffect)(function(){return function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(d);case 2:t=e.sent,f(Z(me(t)));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),i.joinRoom({roomId:d,userId:h}),i.receiveNewMessage(function(e){var t;f((t={createAt:new Date,content:e.message,speaker:e.userId},{type:T,newMessage:t}))}),function(){i.leaveRoom(d),f({type:A})}},[]);var b=function(){a&&(i.sendMessage({roomId:d,userId:h,message:a}),function(e,t){Y()({url:"".concat(ne,"/api/chats/").concat(e),method:"PUT",data:t}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.log(e)})}(d,{message:a}),n(""))};return s.a.createElement(s.a.Fragment,null,p.hasOwnProperty("partner")&&s.a.createElement(ge,{title:p.partner.name||""}),s.a.createElement(Me,{chats:p,user:u}),s.a.createElement(Le,{onMessageChange:function(e){var t=e.currentTarget.value;n(t)},message:a,onKeyPress:function(e){"Enter"===e.key&&b()},onSubmit:b,chat:p}))},Ge=function(){return s.a.createElement("div",null,"\ud398\uc774\uc9c0\ub97c \ucc3e\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4.")},Je=function(){return s.a.createElement("div",{className:"main-loading"},s.a.createElement(q,null))},qe=function(e){var t=e.children,a=Object(E.o)();return Object(m.c)(function(e){return e.isAuthenticated})?t:s.a.createElement(E.a,{to:"/login",state:{from:a}})},Be=function(e){var t=e.children;return Object(m.c)(function(e){return e.isAuthenticated})?s.a.createElement(E.a,{to:"/profile"}):t},He=function(){var e=Object(m.b)(),t=Object(m.c)(function(e){return{isMainLoading:e.isMainLoading}}).isMainLoading;return Object(o.useEffect)(function(){e({type:h})},[]),s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"wrap"},t?s.a.createElement(Je,null):s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/",element:s.a.createElement(E.a,{to:"/login",replace:!0})}),s.a.createElement(E.b,{path:"/login",element:s.a.createElement(Be,null,s.a.createElement(pe,null))}),s.a.createElement(E.b,{path:"/signup",element:s.a.createElement(Be,null,s.a.createElement(ve,null))}),s.a.createElement(E.b,{path:"/profile/edit",element:s.a.createElement(qe,null,s.a.createElement(Re,null))}),s.a.createElement(E.b,{path:"/profile",element:s.a.createElement(qe,null,s.a.createElement(Ae,null))}),s.a.createElement(E.b,{path:"/users/list",element:s.a.createElement(qe,null,s.a.createElement(Ie,null))}),s.a.createElement(E.b,{path:"/chats",element:s.a.createElement(qe,null,s.a.createElement(Fe,null))}),s.a.createElement(E.b,{path:"/chat/room/:roomId",element:s.a.createElement(qe,null,s.a.createElement(De,null))}),s.a.createElement(E.b,{path:"*",element:s.a.createElement(Ge,null)}))))},ze=(a(156),a(15)),Ve=a(93),Ke=a.n(Ve),Xe=(ee.SOCKET_ROOT,{register:{email:"",mbti:"",password:"",passwordConfirm:"",name:"",location:{latitude:0,longitude:0},gender:"",description:""},login:{email:"",password:"",location:{latitude:0,longitude:0}},user:{id:"",mbti:{},name:"",profileImage:"",dob:"",location:{latitude:0,longitude:0},gender:"",description:"",dislikeUsers:[],likeMe:[],chats:[],mailConfirm:!1},edit:{mbti:"",name:"",description:""},isAuthenticated:!1,users:[],totalUserCount:0,totalChoiceCount:0,choiceCount:0,pageIndex:0,chats:[],client:function(){var e=Ke()("wss://datingapp.store",{path:"/socket.io/",transports:["websocket"],secure:!0});e.on("ERROR",function(e){console.log(e)});return{joinRoom:function(t){e.emit("JOIN",t)},sendMessage:function(t){e.emit("MESSAGE",t)},receiveNewMessage:function(t){e.on("MESSAGE",t)},leaveRoom:function(t){e.removeListener("MESSAGE"),e.removeListener("ERROR"),e.emit("LEAVE",t)}}}(),currentRoomChat:{},isMainLoading:!0,hasUsersNotice:!0,hasChatsNotice:!0});var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object.assign({},e,{register:Object.assign({},e.register,Object($.a)({},t.name,t.value))});case P:return Object.assign({},e,{edit:Object.assign({},e.edit,Object($.a)({},t.name,t.value))});case f:return Object.assign({},e,{login:Object.assign({},e.login,Object($.a)({},t.name,t.value))});case h:return Object.assign({},e,{isMainLoading:!1});case O:return Object.assign({},e,Object($.a)({},t.state,Object.assign({},e[t.state],{location:t.location})));case d:return Object.assign({},e,{edit:t.edit,user:t.user,isAuthenticated:!0,isMainLoading:!1,login:Xe.login});case b:return Object.assign({},e,{edit:t.edit,user:t.user,register:Xe.register,isAuthenticated:t.isAuthenticated});case j:return Object.assign({},e,{user:t.user});case C:return Object.assign({},e,{users:t.users,totalUserCount:t.totalUserCount,totalChoiceCount:0,hasUsersNotice:!1});case x:return Object.assign({},e,{users:t.users,hasUsersNotice:!1});case g:return Object.assign({},e,{users:Xe.users,isAuthenticated:!1});case N:return Object.assign({},e,{totalChoiceCount:e.totalChoiceCount+1,choiceCount:e.choiceCount+1});case y:return Object.assign({},e,{choiceCount:0});case w:return Object.assign({},e,{pageIndex:e.pageIndex+1});case S:return Object.assign({},e,{hasUsersNotice:!0});case _:return Object.assign({},e,{chats:t.chats,hasChatsNotice:!1});case I:return Object.assign({},e,{currentRoomChat:t.chat});case T:return Object.assign({},e,{currentRoomChat:Object.assign({},e.currentRoomChat,{messages:[].concat(Object(ze.a)(e.currentRoomChat.messages),[t.newMessage])})});case A:return Object.assign({},e,{currentRoomChat:{}});case R:return Object.assign({},e,{hasChatsNotice:!0});case k:return Object.assign({},e,{users:[],totalUserCount:0,totalChoiceCount:0,choiceCount:0,pageIndex:0,hasUsersNotice:!0});default:return e}};M.a.configure(L);var Ze=Object(u.b)(We,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());(function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:(t=e.sent)&&t.isAuthenticated?Ze.dispatch(V(me(t.user))):Ze.dispatch({type:"CHECK_USER_NOT_LOGIN"});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),i.a.render(s.a.createElement(m.a,{store:Ze},s.a.createElement(p.a,null,s.a.createElement(He,null))),document.getElementById("root"))},96:function(e,t,a){e.exports=a(184)}},[[96,1,2]]]);
//# sourceMappingURL=main.812e06c0.chunk.js.map