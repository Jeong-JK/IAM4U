(this["webpackJsonpmbti-match-client"]=this["webpackJsonpmbti-match-client"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},123:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},144:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},181:function(e,t){},184:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),o=a(0),s=a.n(o),l=a(33),i=a.n(l),u=a(44),m=a(10),p=a(14),E=(a(106),a(4)),f="CHANGE_LOGIN_FORM",d="SUCCESS_USER_AUTHENTICATION",b="CONFIRMED_NOT_AUTHENTICATED",h="SUCCESS_REGISTER_MEMBER",g="USER_LOGOUT",v="CHANGE_REGISTER_FORM",j="SUCCESS_USER_DATA_UPDATE",O="GET_GEOLOCATION",N="LOAD_USERS_SUCCESS",C="INCREASE_CHOICE_COUNT",y="RESET_CHOICE_COUNT",w="INCREASE_PAGE_INDEX",S="SELECTED_ALL_MEMBERS",x="ADD_NEW_USERS_LIST",_="LEAVE_MEMBERS_LIST",k="LOAD_CHATS_LIST_SUCCESS",I="ENTER_CHAT_ROOM",T="ADD_NEW_MESSAGE",A="LEAVE_ROOM",P="CHANGE_EDIT_FORM",R="NONE_CHATS",U=a(6),F=(a(107),a(189)),L={Auth:{region:"ap-northeast-2",userPoolId:"ap-northeast-2_he0NwXfAK",userPoolWebClientId:"r8ro24j5m9ggjdlq3rvkunsfn",mandatorySignIn:!1,authenticationFlowType:"USER_PASSWORD_AUTH"}},D=a(55);D.a.configure(L);var M=function(e){var t=e.onSubmit,a=e.onChange,n=e.login,r=e.error,c="";return c=Array.isArray(r)?r.map(function(e){return s.a.createElement("p",{className:"error"},e)}):s.a.createElement("p",{className:"error"},r),s.a.createElement("div",{className:"loginForm form"},s.a.createElement("div",{className:"errors"},c),s.a.createElement("form",{onSubmit:t},s.a.createElement("input",{type:"email",name:"email",placeholder:"email",maxLength:"80",value:n?n.email:"",onChange:a,required:!0}),s.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:n?n.password:"",onChange:a,required:!0}),s.a.createElement("button",{type:"submit"},"Login")),s.a.createElement(p.b,{to:"/signup",className:"button"},"Sign up"))},G=(a(123),function(){return s.a.createElement("div",{className:"logo-wrap"},s.a.createElement("div",{className:"logo-area"},s.a.createElement("h1",{className:"logo","data-heading":"MATCH \u2661 MINDS"},"MATCH \u2661 MINDS")))}),J=function(e){var t=e.name,a=e.value;return{type:v,name:t,value:a}},q=function(e){var t="",a="",n="";return e&&e.mbti&&e.mbti.type&&(t=e.mbti.type),e&&e.name&&(a=e.name),e&&e.description&&(n=e.description),{type:h,user:e,edit:{mbti:t,name:a,description:n}}},B=function(e,t){return{type:O,state:e,location:t}},H=function(e){return{type:d,user:e,edit:{mbti:e.mbti.type,name:e.name,description:e.description}}},z=function(e){return{type:j,user:e}},V=function(){return{type:S}},K=function(e){return{type:k,chats:e}},X=function(e){return{type:I,chat:e}},W=a(8),Z=a(13),$=a.n(Z),Q={ROOT:"https://jxsbyfmks7.execute-api.ap-northeast-2.amazonaws.com/prod",SOCKET_ROOT:"http://3.38.152.226:8080"};function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach(function(t){Object(W.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}$.a.defaults.withCredentials=!0;var te=Q.ROOT,ae=function(e,t){return $.a.post("".concat(te,"/api/signup"),ee({},t)).then(function(t){return $.a.put("".concat(te,"/api/upload"),e).then(function(e){return{data:e.data,error:""}}).catch(function(e){return{error:e.response.data.message||"server error"}})}).catch(function(e){var t="server error";return e&&e.response&&e.response.data&&e.response.data.message&&(t=e.response.data.message),{error:t}})},ne=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("jwt"),e.next=4,$.a.get("".concat(Q.ROOT,"/auth/user"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),n="server error",e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message&&(n=e.t0.response.data.message),e.abrupt("return",{error:n});case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),re=function(e){var t=e.limit,a=e.pageIndex;return $()({url:"".concat(te,"/api/users?limit=").concat(t,"&pageIndex=").concat(a),method:"GET"}).then(function(e){return e.data}).catch(function(e){console.log(e)})},ce=function(e){return $()({url:"".concat(te,"/api/users/likes/").concat(e),method:"PUT"}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},oe=function(e){return $()({url:"".concat(te,"/api/chats/").concat(e),method:"GET"}).then(function(e){return e.data.chat}).catch(function(e){console.log(e)})},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return $.a.put("".concat(te,"/api/user"),ee({},e)).then(function(e){return t?$.a.put("/api/upload",t).then(function(e){return e.data.user}).catch(function(e){return{error:e.response.data.message||"server error"}}):e.data.user}).catch(function(e){return{error:e.response.data.message||"server error"}})},le=a(28);function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return{};var t={},a=[];return Object(le.forEach)(e,function(n,r){(Object(le.isPlainObject)(n)||Object(le.isArray)(n))&&(n=ie(n)),Object(le.isArray)(e)?a.push(n):t[Object(le.camelCase)(r)]=n}),Object(le.isArray)(e)?a:t}D.a.configure(L);var ue=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(m.c)(function(e){return e.login}),i=Object(m.b)(),u=Object(E.q)();Object(o.useEffect)(function(){new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)}).then(function(e){console.log(e.coords),i(B("login",{latitude:e.coords.latitude,longitude:e.coords.longitude}))}).catch(function(){n("\ud604\uc7ac \uc704\uce58\ub97c \ubc1b\uc544\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})},[i]);var p=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,o,s,m,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,F.a.signIn(l.email,l.password);case 4:return a=e.sent,c=a.signInUserSession.idToken.jwtToken,sessionStorage.setItem("jwt",c),e.next=9,fetch("".concat("https://jxsbyfmks7.execute-api.ap-northeast-2.amazonaws.com/prod","/auth/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}});case 9:if(!(o=e.sent).ok){e.next=18;break}return e.next=13,o.json();case 13:s=e.sent,console.log("\u2705 \uc720\uc800 \uc815\ubcf4:",s),s&&s.user?(i(H(ie(s.user))),u("/profile")):n("\uc720\uc800 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),e.next=31;break;case 18:return console.error("\u274c \uc11c\ubc84 \uc624\ub958 [".concat(o.status,"]")),m="\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",e.prev=20,e.next=23,o.json();case 23:p=e.sent,m=p.message||m,e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),console.error("\uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud30c\uc2f1 \uc2e4\ud328:",e.t0);case 30:n(m);case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(1),console.error("API \ud638\ucd9c \uc2e4\ud328:",e.t1),"UserNotConfirmedException"===e.t1.name?n("\uc774\uba54\uc77c \uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."):"NotAuthorizedException"===e.t1.name?n("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):n("\ub85c\uadf8\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 37:case"end":return e.stop()}},e,null,[[1,33],[20,27]])}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(G,null),s.a.createElement(M,{onChange:function(e){var t=e.target,a=t.value,n=t.name;i(function(e){var t=e.name,a=e.value;return{type:f,name:t,value:a}}({name:n,value:a}))},onSubmit:p,error:a,login:l}))};a(140);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach(function(t){Object(W.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ee="https://jxsbyfmks7.execute-api.ap-northeast-2.amazonaws.com/prod",fe=function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,o,s,l,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.put("".concat(Ee,"/api/upload"),{fileName:a.name,fileType:a.type});case 3:return n=e.sent,c=n.data,o=c.uploadURL,s=c.key,e.next=7,$.a.put(o,a,{headers:{"Content-Type":a.type}});case 7:return console.log("\u2705 \ud30c\uc77c \uc5c5\ub85c\ub4dc \uc131\uacf5:",s),l=t.email,i=t.password,e.next=11,F.a.signUp({username:l,password:i,attributes:{email:l}});case 11:return e.next=13,$.a.post("".concat(Ee,"/api/signup"),pe({},t,{profileImage:s}));case 13:alert("\uac00\uc785 \uc131\uacf5!"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("\ud68c\uc6d0\uac00\uc785 \uc5d0\ub7ec:",e.t0),e.t0.response?console.error("\uc11c\ubc84 \uc751\ub2f5 \uc5d0\ub7ec:",e.t0.response.data):e.t0.message&&console.error("\uc5d0\ub7ec \uba54\uc2dc\uc9c0:",e.t0.message),alert("\uac00\uc785 \uc2e4\ud328!");case 21:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t,a){return e.apply(this,arguments)}}(),de=function(e){e.onSubmit;var t=e.onChange,a=e.register,n=e.error,r=e.onFileChange,c=null;return Object(o.useEffect)(function(){c.scrollIntoView({block:"start"})},[n,c]),s.a.createElement("div",{className:"signupForm form"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fe(a,a.file)},ref:function(e){return c=e}},s.a.createElement("p",{className:"error"},n),s.a.createElement("label",{htmlFor:"mbit",required:!0},"MBTI"),s.a.createElement("select",{name:"mbti",id:"mbti",required:!0,value:a.mbti,onChange:t},s.a.createElement("option",{value:""},"mbti\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."),s.a.createElement("option",{value:"intj"},"INTJ \uc6a9\uc758\uc8fc\ub3c4\ud55c \uc804\ub7b5\uac00"),s.a.createElement("option",{value:"intp"},"INTP \ub17c\ub9ac\uc801\uc778 \uc0ac\uc0c9\uac00"),s.a.createElement("option",{value:"entj"},"ENTJ \ub300\ub2f4\ud55c \ud1b5\uc194\uc790"),s.a.createElement("option",{value:"entp"},"ENTP \ub728\uac70\uc6b4 \ub17c\uc7c1\uc744 \uc990\uae30\ub294 \ubcc0\ub860\uac00"),s.a.createElement("option",{value:"infj"},"INFJ \uc120\uc758\uc758 \uc639\ud638\uc790"),s.a.createElement("option",{value:"infp"},"INFP \uc5f4\uc815\uc801\uc778 \uc911\uc7ac\uc790"),s.a.createElement("option",{value:"enfj"},"ENFJ \uc815\uc758\ub85c\uc6b4 \uc0ac\ud68c\uc6b4\ub3d9\uac00"),s.a.createElement("option",{value:"enfp"},"ENFP \uc7ac\uae30\ubc1c\ub784\ud55c \ud65c\ub3d9\uac00"),s.a.createElement("option",{value:"istj"},"ISTJ \uccad\ub834\uacb0\ubc31\ud55c \ub17c\ub9ac\uc8fc\uc758\uc790"),s.a.createElement("option",{value:"isfj"},"ISFJ \uc6a9\uac10\ud55c \uc218\ud638\uc790"),s.a.createElement("option",{value:"estj"},"ESTJ \uc5c4\uaca9\ud55c \uad00\ub9ac\uc790"),s.a.createElement("option",{value:"esfj"},"ESFJ \uc0ac\uad50\uc801\uc778 \uc678\uad50\uad00"),s.a.createElement("option",{value:"istp"},"ISTP \ub9cc\ub2a5 \uc7ac\uc8fc\uafbc"),s.a.createElement("option",{value:"isfp"},"ISFP \ud638\uae30\uc2ec \ub9ce\uc740 \uc608\uc220\uac00"),s.a.createElement("option",{value:"estp"},"ESTP \ubaa8\ud5d8\uc744 \uc990\uae30\ub294 \uc0ac\uc5c5\uac00"),s.a.createElement("option",{value:"esfp"},"ESFP \uc790\uc720\ub85c\uc6b4 \uc601\ud63c\uc758 \uc5f0\uc608\uc778")),s.a.createElement("p",null,"mbti\ub97c \ubaa8\ub974\uc2e0\ub2e4\uba74",s.a.createElement("a",{href:"https://www.16personalities.com/ko/%EB%AC%B4%EB%A3%8C-%EC%84%B1%EA%B2%A9-%EC%9C%A0%ED%98%95-%EA%B2%80%EC%82%AC"},"mbti \uc0ac\uc774\ud2b8"),"\uc5d0\uc11c \uac80\uc0ac\ub97c \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4."),s.a.createElement("label",{htmlFor:"email"},"email"),s.a.createElement("input",{type:"email",name:"email",required:!0,value:a.email,onChange:t,maxLength:"100"}),s.a.createElement("label",{htmlFor:"password"},"password"),s.a.createElement("input",{type:"password",name:"password",required:!0,value:a.password||"",onChange:t,maxLength:"18",minLength:"6"}),s.a.createElement("label",{htmlFor:"passwordConfirm"},"password confirm"),s.a.createElement("input",{type:"password",name:"passwordConfirm",required:!0,value:a.passwordConfirm||"",onChange:t,maxLength:"18",minLength:"6"}),s.a.createElement("label",{htmlFor:"name"},"name"),s.a.createElement("input",{type:"text",name:"name",required:!0,value:a.name||"",onChange:t,maxLength:"13"}),s.a.createElement("p",{className:"title"},"\uc131\ubcc4"),s.a.createElement("div",{className:"gender-area"},s.a.createElement("input",{type:"radio",name:"gender",value:"female",id:"female",checked:"female"===a.gender,onChange:t,required:!0}),s.a.createElement("label",{htmlFor:"female"},"\uc5ec\uc131"),s.a.createElement("input",{type:"radio",name:"gender",value:"male",id:"male",checked:"male"===a.gender,onChange:t}),s.a.createElement("label",{htmlFor:"male"},"\ub0a8\uc131")),s.a.createElement("label",{htmlFor:"file"},"\ud504\ub85c\ud544 \uc0ac\uc9c4"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:r,accept:"image/x-png,image/gif,image/jpeg",required:!0}),s.a.createElement("label",{htmlFor:"description"},"\uc790\uae30\uc18c\uac1c"),s.a.createElement("textarea",{type:"text",name:"description",maxLength:"60",value:a.description,onChange:t}),s.a.createElement("button",null,"Sign up")))},be=(a(141),function(e){var t=e.title,a=Object(E.q)();return s.a.createElement("div",{className:"back-tab",onClick:function(){a(-1)}},"\u2190 ",t)}),he=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(null),i=Object(U.a)(l,2),u=i[0],p=(i[1],Object(m.c)(function(e){return e.register})),f=Object(m.b)(),d=Object(E.q)();Object(o.useEffect)(function(){new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)}).then(function(e){f(B("register",{latitude:e.coords.latitude,longitude:e.coords.longitude}))}).catch(function(){n("\ud604\uc7ac \uc704\uce58\ub97c \ubc1b\uc544\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})},[f]);var b=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,o,s,l,i,m,E,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,18}$/,c=p.email,o=p.password,s=p.passwordConfirm,l=p.name,i=p.mbti,m=p.gender,![c,o,s,l,i,m].includes("")){e.next=6;break}return n("\ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694."),e.abrupt("return");case 6:if(a.test(o)){e.next=9;break}return n("\ube44\ubc00\ubc88\ud638\ub294 \uc22b\uc790\uc640 \uc601\ubb38 \ud3ec\ud568 6\uc790 \uc774\uc0c1 18\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 9:if(o===s){e.next=14;break}return n("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),f(J({key:"password",value:""})),f(J({key:"passwordConfirm",value:""})),e.abrupt("return");case 14:return(E=new FormData).append("file",u),E.append("email",p.email),E.append("password",p.password),E.append("name",p.name),E.append("mbti",p.mbti),E.append("gender",p.gender),e.prev=21,e.next=24,ae(E,p);case 24:return b=e.sent,console.log("[DEBUG] postSignup result.data:",b.data),e.next=28,f(q(ie(b.data)));case 28:console.log("[DEBUG] navigate \uc804\ub2ec email:",p.email),alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5! \uc774\uba54\uc77c \uc778\uc99d \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),d("/verify-email",{state:{email:p.email}}),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(21),console.error("\ud68c\uc6d0\uac00\uc785 \uc624\ub958:",e.t0),n("\ud68c\uc6d0\uac00\uc785 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 37:case"end":return e.stop()}},e,null,[[21,33]])}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(be,{title:"Sign up"}),s.a.createElement(de,{register:p,onChange:function(e){var t=e.target,a=t.value,n=t.name;f(J({name:n,value:a}))},onFileChange:function(e){var t=e.target.files[0];f(J({name:"file",value:t}))},onSubmit:b,error:a}))},ge=a(19),ve=a(18),je=(a(144),function(){return s.a.createElement("nav",{className:"tab-list"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(p.c,{to:"/profile",activeClassName:"selected"},s.a.createElement(ve.a,{icon:ge.g}))),s.a.createElement("li",null,s.a.createElement(p.c,{to:"/users/list",activeClassName:"selected"},s.a.createElement(ve.a,{icon:ge.h}))),s.a.createElement("li",null,s.a.createElement(p.c,{to:"/chats",activeClassName:"selected"},s.a.createElement(ve.a,{icon:ge.b})))))}),Oe=a(92),Ne=a.n(Oe),Ce=(a(147),function(e){var t=e.partner,a=e.view,n=e.matchData,r=e.myMbti,c=e.myName,o=25*n.match(/\d+/)[0];return s.a.createElement("div",{className:"choice-list show-".concat(a)},t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"front card"},s.a.createElement("img",{src:t.profileImage,className:"profile-image",alt:"profile"}),s.a.createElement("div",{className:"info"},s.a.createElement("p",{className:"name"},t.name),s.a.createElement("pre",{className:"description"},t.description))),s.a.createElement("div",{className:"back card ".concat(n)},s.a.createElement("p",{className:"title"},"\ub0b4 MBTI\uc640\uc758",s.a.createElement("br",null)," \uc801\ud569\uc131\uc740?"),s.a.createElement("ul",{className:"emoji-list"},s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--haha"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"},s.a.createElement("div",{className:"emoji__tongue"}))))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--yay"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__mouth"})))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--wow"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"})))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--sad"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"})))),s.a.createElement("li",null,s.a.createElement("div",{className:"emoji emoji--angry"},s.a.createElement("div",{className:"emoji__face"},s.a.createElement("div",{className:"emoji__eyebrows"}),s.a.createElement("div",{className:"emoji__eyes"}),s.a.createElement("div",{className:"emoji__mouth"}))))),s.a.createElement("div",{className:"figure"},s.a.createElement(Ne.a,{start:0,end:o,duration:3}),s.a.createElement("span",null,"%")),s.a.createElement("ul",{className:"mbti-info"},s.a.createElement("li",null,s.a.createElement("p",{className:"name"},c),s.a.createElement("p",{className:"mbti"},r)),s.a.createElement("li",{className:"arrow"},s.a.createElement(ve.a,{icon:ge.a})),s.a.createElement("li",null,s.a.createElement("p",{className:"name"},t.name),s.a.createElement("p",{className:"mbti"},t.mbti.type))))))}),ye=(a(148),function(e){var t=e.onLikeClick,a=e.onUnLikeClick;return s.a.createElement("div",{className:"choice-tab"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("button",{onClick:t},s.a.createElement(ve.a,{icon:ge.e}),s.a.createElement("span",null,"Like"))),s.a.createElement("li",null,s.a.createElement("button",{onClick:a},s.a.createElement(ve.a,{icon:ge.f}),s.a.createElement("span",null,"Pass")))))}),we=(a(149),function(e){var t=e.onNextClick;return s.a.createElement("div",{className:"next-tab"},s.a.createElement("button",{onClick:t},s.a.createElement("span",null,"next"),s.a.createElement(ve.a,{icon:ge.c})))}),Se=function(e){var t=e.notice,a=void 0===t?null:t;return s.a.createElement("div",{className:"notice-content"},s.a.createElement(G,null),s.a.createElement("p",null,a))},xe=(a(150),function(e){var t=e.onPopupClick;return s.a.createElement("div",{className:"popup",onClick:t},s.a.createElement("p",null,"\ucc44\ud305\ubc29\uc774",s.a.createElement("br",null)," \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s.a.createElement("button",null,"\ud655\uc778"))}),_e=function(){var e=Object(o.useState)("front"),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)("level0"),i=Object(U.a)(l,2),u=i[0],p=i[1],E=Object(o.useState)(!1),f=Object(U.a)(E,2),d=f[0],b=f[1],h=Object(o.useState)("\uc720\uc800 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4.\ud83d\ude4f"),g=Object(U.a)(h,2),v=g[0],j=g[1],O=Object(m.b)(),y=Object(m.c)(function(e){return{users:e.users,user:e.user,pageIndex:e.pageIndex,hasUsersNotice:e.hasUsersNotice,choiceCount:e.choiceCount,totalUserCount:e.totalUserCount,totalChoiceCount:e.totalChoiceCount}}),w=y.users,S=y.user,x=(y.pageIndex,y.hasUsersNotice),k=y.choiceCount,I=y.totalUserCount,T=y.totalChoiceCount;Object(o.useEffect)(function(){return function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re({limit:5,pageIndex:0});case 2:if((t=e.sent).total_user_count){e.next=7;break}return j("\ubaa8\ub4e0 \ud68c\uc6d0\uc744 \uc120\ud0dd \ud558\uc168\uc2b5\ub2c8\ub2e4~! \uace0\uc0dd\ud558\uc168\uc2b5\ub2c8\ub2e4!\ud83d\udc4f"),O(V()),e.abrupt("return");case 7:O((a=ie(t),{type:N,users:a.users,totalUserCount:a.totalUserCount}));case 8:case"end":return e.stop()}var a},e)}));return function(){return e.apply(this,arguments)}}()(),function(){O({type:_})}},[O]);var A=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(te,"/api/user/likes"),method:"GET"}).then(function(e){return e.data.likes_me}).catch(function(e){console.log(e)});case 2:if(!e.sent.includes(w[k].id)){e.next=9;break}return e.next=6,a=w[k].id,$()({url:"".concat(te,"/api/chats/").concat(a),method:"POST"}).then(function(e){return e.data}).catch(function(e){console.log(e)});case 6:b(!0),e.next=10;break;case 9:ce(w[k].id);case 10:n("back"),t=Object.keys(S.mbti).find(function(e){if("object"===typeof S.mbti[e])return S.mbti[e].includes(w[k].mbti.type)}),p(t);case 13:case"end":return e.stop()}var a},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(w[k].id);case 2:R();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I!==T+1){e.next=4;break}return j("\ubaa8\ub4e0 \ud68c\uc6d0\uc744 \uc120\ud0dd \ud558\uc168\uc2b5\ub2c8\ub2e4~! \uace0\uc0dd\ud558\uc168\uc2b5\ub2c8\ub2e4!"),O(V()),e.abrupt("return");case 4:O({type:C}),n("front"),p("level0");case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"page-wrap"},s.a.createElement(je,null),x?s.a.createElement(Se,{notice:v}):s.a.createElement(s.a.Fragment,null,s.a.createElement(Ce,{partner:w[k],view:a,matchData:u,myMbti:S.mbti.type,myName:S.name}),"front"===a&&s.a.createElement(ye,{onLikeClick:A,onUnLikeClick:P})||s.a.createElement(we,{onNextClick:R}),d&&s.a.createElement(xe,{onPopupClick:function(){b(!1)}})))},ke=(a(151),function(e){var t=e.user,a=t.profileImage,n=t.name,r=t.mbti,c=t.likeMe,o=t.description;return s.a.createElement("div",{className:"profile-area"},s.a.createElement("img",{src:a,alt:"profile",className:"profile-image"}),s.a.createElement("p",null,s.a.createElement("span",{className:"name"},n),s.a.createElement("span",{className:"mbti"},r.type)),s.a.createElement("p",{className:"likes"},s.a.createElement(ve.a,{icon:ge.d}),s.a.createElement("span",{className:"num"},c.length)),o&&s.a.createElement("pre",{className:"description"},o))}),Ie=function(){var e=Object(m.b)(),t=Object(m.c)(function(e){return{user:e.user}}).user,a=function(){var t=Object(c.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:$()({url:"".concat(te,"/api/logout"),method:"GET"}).catch(function(e){console.log(e)}).then(function(t){e({type:g})});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("jwt")){e.next=3;break}return e.abrupt("return",alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."));case 3:return e.prev=3,e.next=6,fetch("https://wfqynf004c.execute-api.ap-northeast-2.amazonaws.com/prod/user",{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,console.log("\uc751\ub2f5:",n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("API \ud638\ucd9c \uc624\ub958:",e.t0);case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(je,null),s.a.createElement("div",{className:"content"},s.a.createElement(ke,{user:t}),s.a.createElement(p.b,{to:"/profile/edit",className:"link-button"},"\uc218\uc815\ud558\uae30"),s.a.createElement("button",{href:"#none",onClick:a,className:"link-button"},"\ub85c\uadf8\uc544\uc6c3"),s.a.createElement("button",{onClick:n},"\ub0b4 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30")))},Te=(a(152),function(e){var t=e.onSubmit,a=e.onChange,n=e.edit,r=e.error,c=e.onFileChange,l=null;return Object(o.useEffect)(function(){l.scrollIntoView({block:"start"})},[r,l]),s.a.createElement("div",{className:"edit-form form"},s.a.createElement("form",{onSubmit:t,ref:function(e){return l=e}},s.a.createElement("p",null,r),s.a.createElement("select",{name:"mbti",id:"mbti",required:!0,value:n.mbti,onChange:a},s.a.createElement("option",{value:""},"mbti\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."),s.a.createElement("option",{value:"intj"},"INTJ \uc6a9\uc758\uc8fc\ub3c4\ud55c \uc804\ub7b5\uac00"),s.a.createElement("option",{value:"intp"},"INTP \ub17c\ub9ac\uc801\uc778 \uc0ac\uc0c9\uac00"),s.a.createElement("option",{value:"entj"},"ENTJ \ub300\ub2f4\ud55c \ud1b5\uc194\uc790"),s.a.createElement("option",{value:"entp"},"ENTP \ub728\uac70\uc6b4 \ub17c\uc7c1\uc744 \uc990\uae30\ub294 \ubcc0\ub860\uac00"),s.a.createElement("option",{value:"infj"},"INFJ \uc120\uc758\uc758 \uc639\ud638\uc790"),s.a.createElement("option",{value:"infp"},"INFP \uc5f4\uc815\uc801\uc778 \uc911\uc7ac\uc790"),s.a.createElement("option",{value:"enfj"},"ENFJ \uc815\uc758\ub85c\uc6b4 \uc0ac\ud68c\uc6b4\ub3d9\uac00"),s.a.createElement("option",{value:"enfp"},"ENFP \uc7ac\uae30\ubc1c\ub784\ud55c \ud65c\ub3d9\uac00"),s.a.createElement("option",{value:"istj"},"ISTJ \uccad\ub834\uacb0\ubc31\ud55c \ub17c\ub9ac\uc8fc\uc758\uc790"),s.a.createElement("option",{value:"isfj"},"ISFJ \uc6a9\uac10\ud55c \uc218\ud638\uc790"),s.a.createElement("option",{value:"estj"},"ESTJ \uc5c4\uaca9\ud55c \uad00\ub9ac\uc790"),s.a.createElement("option",{value:"esfj"},"ESFJ \uc0ac\uad50\uc801\uc778 \uc678\uad50\uad00"),s.a.createElement("option",{value:"istp"},"ISTP \ub9cc\ub2a5 \uc7ac\uc8fc\uafbc"),s.a.createElement("option",{value:"isfp"},"ISFP \ud638\uae30\uc2ec \ub9ce\uc740 \uc608\uc220\uac00"),s.a.createElement("option",{value:"estp"},"ESTP \ubaa8\ud5d8\uc744 \uc990\uae30\ub294 \uc0ac\uc5c5\uac00"),s.a.createElement("option",{value:"esfp"},"ESFP \uc790\uc720\ub85c\uc6b4 \uc601\ud63c\uc758 \uc5f0\uc608\uc778")),s.a.createElement("label",{htmlFor:"name"},"name"),s.a.createElement("input",{type:"text",name:"name",required:!0,value:n.name,onChange:a,maxLength:"13"}),s.a.createElement("label",{htmlFor:"file"},"\ud504\ub85c\ud544 \uc0ac\uc9c4"),s.a.createElement("input",{type:"file",name:"file",id:"file",onChange:c,accept:"image/x-png,image/gif,image/jpeg"}),s.a.createElement("p",{className:"title"},"\ud68c\uc6d0\ub2d8\uc758 \uc815\ubcf4"),s.a.createElement("textarea",{name:"description",className:"description",cols:"20",rows:"3",maxLength:"100",value:n.description,onChange:a}),s.a.createElement("button",null,"\uc218\uc815\ud558\uae30")))}),Ae=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(null),i=Object(U.a)(l,2),u=i[0],p=i[1],E=Object(m.c)(function(e){return{edit:e.edit,user:e.user}}),f=E.edit,d=E.user,b=Object(m.b)(),h=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=f.name,c=f.mbti,![a,c].includes("")){e.next=5;break}return n("\ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694."),e.abrupt("return");case 5:if((o=new FormData).append("file",u),u){e.next=13;break}return e.next=10,se(f);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,se(f,o);case 15:e.t0=e.sent;case 16:s=e.t0,b(z(ie(s)));case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(be,{title:"Settings"}),s.a.createElement(Te,{user:d,edit:f,onChange:function(e){var t=e.target,a=t.value,n=t.name;b(function(e){var t=e.name,a=e.value;return{type:P,name:t,value:a}}({name:n,value:a}))},onFileChange:function(e){p(e.target.files[0])},onSubmit:h,error:a}))},Pe=(a(153),function(e){var t=e.chats,a=t.map(function(e,a){return s.a.createElement("li",{key:a},s.a.createElement(p.b,{to:"/chat/room/".concat(e._id)},s.a.createElement("div",{className:"left"},s.a.createElement("img",{src:e.partner.profile_image,alt:"profile"})),s.a.createElement("div",{className:"right"},s.a.createElement("p",{className:"name"},e.partner.name),t[a].messages.length&&s.a.createElement("p",{className:"message"},t[a].messages[t[a].messages.length-1].content)||s.a.createElement("p",{className:"message none"},"\uba3c\uc800 \uc778\uc0ac\ud574 \ubcf4\uc138\uc694~!"))))});return s.a.createElement("div",{className:"chat-list"},s.a.createElement("ul",null,a))}),Re=function(){var e=Object(o.useState)("\ucc44\ud305 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4.\ud83d\ude4f"),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(m.c)(function(e){return{chats:e.chats,hasChatsNotice:e.hasChatsNotice}}),i=l.chats,u=l.hasChatsNotice,p=Object(m.b)();return Object(o.useEffect)(function(){(function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(te,"/api/chats"),method:"GET"}).then(function(e){return e.data}).catch(function(e){console.log(e)});case 2:if((t=e.sent).chats.length){e.next=6;break}return n("\ucc44\ud305 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\ud83d\ude2d"),e.abrupt("return");case 6:p(K(t.chats));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[p]),s.a.createElement(s.a.Fragment,null,s.a.createElement(je,null),u?s.a.createElement(Se,{notice:a}):s.a.createElement(Pe,{chats:i}))},Ue=(a(154),function(e){var t=e.onMessageChange,a=e.message,n=e.onSubmit,r=e.onKeyPress;return s.a.createElement("div",{className:"input-message"},s.a.createElement("input",{type:"text",className:"input-text",onChange:t,value:a,onKeyPress:r}),s.a.createElement("button",{onClick:n},"\uc804\uc1a1"))}),Fe=(a(155),function(e){var t=e.chats,a=e.user,n=null,r="";return Object(o.useEffect)(function(){n.scrollIntoView({block:"end"})},[t,n]),t.hasOwnProperty("messages")&&(r=t.messages.map(function(e,n){var r=e.speaker!==a.id?"left":"right",c=e.speaker===a.id?a:t.partner;return s.a.createElement("li",{key:n,className:"".concat(r," ").concat(c===t.partner?"partner":"me")},s.a.createElement("img",{src:c.profileImage,className:"profile-image",alt:"profile"}),c===t.partner&&s.a.createElement("p",{className:"name"},c.name),s.a.createElement("p",{className:"talk"},e.content))})),s.a.createElement("div",{className:"messages"},s.a.createElement("ul",{ref:function(e){return n=e}},r))}),Le=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(m.c)(function(e){return{client:e.client,user:e.user,currentRoomChat:e.currentRoomChat}}),i=l.client,u=l.user,p=l.currentRoomChat,f=Object(m.b)(),d=Object(E.s)().roomId,b=u.id;Object(o.useEffect)(function(){return function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(d);case 2:t=e.sent,f(X(ie(t)));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),i.joinRoom({roomId:d,userId:b}),i.receiveNewMessage(function(e){var t;f((t={createAt:new Date,content:e.message,speaker:e.userId},{type:T,newMessage:t}))}),function(){i.leaveRoom(d),f({type:A})}},[]);var h=function(){a&&(i.sendMessage({roomId:d,userId:b,message:a}),function(e,t){$()({url:"".concat(te,"/api/chats/").concat(e),method:"PUT",data:t}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.log(e)})}(d,{message:a}),n(""))};return s.a.createElement(s.a.Fragment,null,p.hasOwnProperty("partner")&&s.a.createElement(be,{title:p.partner.name||""}),s.a.createElement(Fe,{chats:p,user:u}),s.a.createElement(Ue,{onMessageChange:function(e){var t=e.currentTarget.value;n(t)},message:a,onKeyPress:function(e){"Enter"===e.key&&h()},onSubmit:h,chat:p}))},De=function(){return s.a.createElement("div",null,"\ud398\uc774\uc9c0\ub97c \ucc3e\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4.")},Me=function(){return s.a.createElement("div",{className:"main-loading"},s.a.createElement(G,null))},Ge=function(){var e=Object(o.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(""),i=Object(U.a)(l,2),u=i[0],m=i[1],p=Object(E.q)(),f=Object(E.o)(),d=f.state&&f.state.email;if(!d)return p("/login"),null;var b=function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,F.a.confirmSignUp(d,a);case 4:n=e.sent,console.log("\u2705 Cognito \uc778\uc99d \uacb0\uacfc:",n),alert("\u2705 \uc774\uba54\uc77c \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),p("/login"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("\uc778\uc99d \uc2e4\ud328:",e.t0),"NotAuthorizedException"===e.t0.code?m("\uc774\ubbf8 \uc778\uc99d\ub41c \uacc4\uc815\uc785\ub2c8\ub2e4."):"CodeMismatchException"===e.t0.code?m("\u274c \uc778\uc99d\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):"ExpiredCodeException"===e.t0.code?m("\u274c \uc778\uc99d\ubc88\ud638\uac00 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc7ac\uc804\uc1a1 \ud574\uc8fc\uc138\uc694."):m("\u274c \uc778\uc99d \uc911 \uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.resendSignUp(d);case 3:alert("\ud83d\udce7 \uc778\uc99d\ubc88\ud638\uac00 \ub2e4\uc2dc \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("\uc7ac\uc804\uc1a1 \uc2e4\ud328:",e.t0),m("\uc778\uc99d\ubc88\ud638 \uc7ac\uc804\uc1a1 \uc911 \uc624\ub958 \ubc1c\uc0dd.");case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement("h2",null,"\uc774\uba54\uc77c \uc778\uc99d"),s.a.createElement("p",null,d," \uc73c\ub85c \uc804\uc1a1\ub41c \uc778\uc99d\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."),s.a.createElement("form",{onSubmit:b},s.a.createElement("input",{type:"text",placeholder:"\uc778\uc99d\ubc88\ud638 \uc785\ub825",value:a,onChange:function(e){return n(e.target.value)}}),s.a.createElement("button",{type:"submit"},"\uc778\uc99d \ud655\uc778")),s.a.createElement("button",{onClick:h},"\uc778\uc99d\ubc88\ud638 \uc7ac\uc804\uc1a1"),u&&s.a.createElement("p",{style:{color:"red"}},u))},Je=function(e){var t=e.children,a=Object(E.o)();return Object(m.c)(function(e){return e.isAuthenticated})?t:s.a.createElement(E.a,{to:"/login",state:{from:a}})},qe=function(e){var t=e.children;return Object(m.c)(function(e){return e.isAuthenticated})?s.a.createElement(E.a,{to:"/profile"}):t},Be=function(){var e=Object(m.b)(),t=(Object(E.o)(),Object(m.c)(function(e){return{isMainLoading:e.isMainLoading}}).isMainLoading);return Object(o.useEffect)(function(){e({type:b})},[]),s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"wrap"},t?s.a.createElement(Me,null):s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/",element:s.a.createElement(E.a,{to:"/login",replace:!0})}),s.a.createElement(E.b,{path:"/login",element:s.a.createElement(qe,null,s.a.createElement(ue,null))}),s.a.createElement(E.b,{path:"/signup",element:s.a.createElement(qe,null,s.a.createElement(he,null))}),s.a.createElement(E.b,{path:"/profile/edit",element:s.a.createElement(Je,null,s.a.createElement(Ae,null))}),s.a.createElement(E.b,{path:"/profile",element:s.a.createElement(Je,null,s.a.createElement(Ie,null))}),s.a.createElement(E.b,{path:"/users/list",element:s.a.createElement(Je,null,s.a.createElement(_e,null))}),s.a.createElement(E.b,{path:"/chats",element:s.a.createElement(Je,null,s.a.createElement(Re,null))}),s.a.createElement(E.b,{path:"/chat/room/:roomId",element:s.a.createElement(Je,null,s.a.createElement(Le,null))}),s.a.createElement(E.b,{path:"/verify-email",element:s.a.createElement(Ge,null)}),s.a.createElement(E.b,{path:"*",element:s.a.createElement(De,null)}))))},He=(a(156),a(15)),ze=a(93),Ve=a.n(ze),Ke={register:{email:"",mbti:"",password:"",passwordConfirm:"",name:"",location:{latitude:0,longitude:0},gender:"",description:""},login:{email:"",password:"",location:{latitude:0,longitude:0}},user:{id:"",mbti:{},name:"",profileImage:"",dob:"",location:{latitude:0,longitude:0},gender:"",description:"",dislikeUsers:[],likeMe:[],chats:[],mailConfirm:!1},edit:{mbti:"",name:"",description:""},isAuthenticated:!1,users:[],totalUserCount:0,totalChoiceCount:0,choiceCount:0,pageIndex:0,chats:[],client:function(){var e=Ve()("wss://datingapp.store",{path:"/socket.io/",transports:["websocket"],secure:!0});e.on("ERROR",function(e){console.log(e)});return{joinRoom:function(t){e.emit("JOIN",t)},sendMessage:function(t){e.emit("MESSAGE",t)},receiveNewMessage:function(t){e.on("MESSAGE",t)},leaveRoom:function(t){e.removeListener("MESSAGE"),e.removeListener("ERROR"),e.emit("LEAVE",t)}}}(),currentRoomChat:{},isMainLoading:!0,hasUsersNotice:!0,hasChatsNotice:!0};var Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object.assign({},e,{register:Object.assign({},e.register,Object(W.a)({},t.name,t.value))});case P:return Object.assign({},e,{edit:Object.assign({},e.edit,Object(W.a)({},t.name,t.value))});case f:return Object.assign({},e,{login:Object.assign({},e.login,Object(W.a)({},t.name,t.value))});case b:return Object.assign({},e,{isMainLoading:!1});case O:return Object.assign({},e,Object(W.a)({},t.state,Object.assign({},e[t.state],{location:t.location})));case d:return Object.assign({},e,{edit:t.edit,user:t.user,isAuthenticated:!0,isMainLoading:!1,login:Ke.login});case h:return Object.assign({},e,{edit:t.edit,user:t.user,register:Ke.register,isAuthenticated:t.isAuthenticated});case j:return Object.assign({},e,{user:t.user});case N:return Object.assign({},e,{users:t.users,totalUserCount:t.totalUserCount,totalChoiceCount:0,hasUsersNotice:!1});case x:return Object.assign({},e,{users:t.users,hasUsersNotice:!1});case g:return Object.assign({},e,{users:Ke.users,isAuthenticated:!1});case C:return Object.assign({},e,{totalChoiceCount:e.totalChoiceCount+1,choiceCount:e.choiceCount+1});case y:return Object.assign({},e,{choiceCount:0});case w:return Object.assign({},e,{pageIndex:e.pageIndex+1});case S:return Object.assign({},e,{hasUsersNotice:!0});case k:return Object.assign({},e,{chats:t.chats,hasChatsNotice:!1});case I:return Object.assign({},e,{currentRoomChat:t.chat});case T:return Object.assign({},e,{currentRoomChat:Object.assign({},e.currentRoomChat,{messages:[].concat(Object(He.a)(e.currentRoomChat.messages),[t.newMessage])})});case A:return Object.assign({},e,{currentRoomChat:{}});case R:return Object.assign({},e,{hasChatsNotice:!0});case _:return Object.assign({},e,{users:[],totalUserCount:0,totalChoiceCount:0,choiceCount:0,pageIndex:0,hasUsersNotice:!0});default:return e}};D.a.configure(L);var We=Object(u.b)(Xe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());(function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:(t=e.sent)&&t.isAuthenticated?We.dispatch(H(ie(t.user))):We.dispatch({type:"CHECK_USER_NOT_LOGIN"});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),i.a.render(s.a.createElement(m.a,{store:We},s.a.createElement(p.a,null,s.a.createElement(Be,null))),document.getElementById("root"))},96:function(e,t,a){e.exports=a(184)}},[[96,1,2]]]);
//# sourceMappingURL=main.01d4d3a9.chunk.js.map