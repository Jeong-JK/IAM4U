{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\test\\\\mbti-match-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\test\\\\mbti-match-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from'react';import{useSelector,useDispatch}from'react-redux';import{Link}from'react-router-dom';import Tab from'../components/Tab/TabList';import View from'../components/Profile/View';import{getLogout}from'../api';import{logoutUser}from'../actions';var Profile=function Profile(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{user:state.user};}),user=_useSelector.user;var onLogoutClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getLogout().then(function(response){dispatch(logoutUser());});case 1:case\"end\":return _context.stop();}}},_callee);}));return function onLogoutClick(){return _ref.apply(this,arguments);};}();var callProtectedAPI=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var token,res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=localStorage.getItem('jwt');if(token){_context2.next=3;break;}return _context2.abrupt(\"return\",alert('로그인이 필요합니다.'));case 3:_context2.prev=3;_context2.next=6;return fetch('https://wfqynf004c.execute-api.ap-northeast-2.amazonaws.com/prod/user',{method:'GET',headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}});case 6:res=_context2.sent;_context2.next=9;return res.json();case 9:data=_context2.sent;console.log('응답:',data);_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](3);console.error('API 호출 오류:',_context2.t0);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[3,13]]);}));return function callProtectedAPI(){return _ref2.apply(this,arguments);};}();return React.createElement(React.Fragment,null,React.createElement(Tab,null),React.createElement(\"div\",{className:\"content\"},React.createElement(View,{user:user}),React.createElement(Link,{to:\"/profile/edit\",className:\"link-button\"},\"\\uC218\\uC815\\uD558\\uAE30\"),React.createElement(\"button\",{href:\"#none\",onClick:onLogoutClick,className:\"link-button\"},\"\\uB85C\\uADF8\\uC544\\uC6C3\"),React.createElement(\"button\",{onClick:callProtectedAPI},\"\\uB0B4 \\uC815\\uBCF4 \\uBD88\\uB7EC\\uC624\\uAE30\")));};export default Profile;","map":{"version":3,"names":["React","useSelector","useDispatch","Link","Tab","View","getLogout","logoutUser","Profile","dispatch","_useSelector","state","user","onLogoutClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","then","response","stop","apply","arguments","callProtectedAPI","_ref2","_callee2","token","res","data","_callee2$","_context2","localStorage","getItem","abrupt","alert","fetch","method","headers","Authorization","concat","sent","json","console","log","t0","error","createElement","Fragment","className","to","href","onClick"],"sources":["C:/test/mbti-match-client/src/containers/Profile.js"],"sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Tab from '../components/Tab/TabList';\nimport View from '../components/Profile/View';\nimport { getLogout } from '../api';\nimport { logoutUser } from '../actions';\n\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const { user } = useSelector(state => ({\n    user: state.user\n  }));\n\n  const onLogoutClick = async () => {\n    getLogout().then(response => {\n      dispatch(logoutUser());\n    });\n  };\n\n  const callProtectedAPI = async () => {\n    const token = localStorage.getItem('jwt');\n    if (!token) return alert('로그인이 필요합니다.');\n  \n    try {\n      const res = await fetch('https://wfqynf004c.execute-api.ap-northeast-2.amazonaws.com/prod/user', {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      const data = await res.json();\n      console.log('응답:', data);\n    } catch (err) {\n      console.error('API 호출 오류:', err);\n    }\n  };\n  \n  return (\n    <>\n      <Tab />\n      <div className=\"content\">\n        <View user={user} />\n        <Link to=\"/profile/edit\" className=\"link-button\">\n          수정하기\n        </Link>\n        <button href=\"#none\" onClick={onLogoutClick} className=\"link-button\">\n          로그아웃\n        </button>\n        <button onClick={callProtectedAPI}>내 정보 불러오기</button>\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}