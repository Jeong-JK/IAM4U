{"ast":null,"code":"import io from 'socket.io-client';\nimport { MESSAGE, ERROR, JOIN, LEAVE } from '../../contants/socketEventTypes';\nimport { config } from '../../config';\nconst SOCKET_ROOT = config.SOCKET_ROOT;\nexport default function () {\n  const socket = io.connect(SOCKET_ROOT);\n  socket.on(ERROR, function (err) {\n    console.log(err);\n  });\n  const receiveNewMessage = cb => {\n    socket.on(MESSAGE, cb);\n  };\n  const joinRoom = data => {\n    socket.emit(JOIN, data);\n  };\n  const sendMessage = data => {\n    socket.emit(MESSAGE, data);\n  };\n  const leaveRoom = roomId => {\n    socket.removeListener(MESSAGE);\n    socket.removeListener(ERROR);\n    socket.emit(LEAVE, roomId);\n  };\n  return {\n    joinRoom,\n    sendMessage,\n    receiveNewMessage,\n    leaveRoom\n  };\n}","map":{"version":3,"names":["io","MESSAGE","ERROR","JOIN","LEAVE","config","SOCKET_ROOT","socket","connect","on","err","console","log","receiveNewMessage","cb","joinRoom","data","emit","sendMessage","leaveRoom","roomId","removeListener"],"sources":["C:/test/mbti-match-client-master/src/lib/socket/index.js"],"sourcesContent":["import io from 'socket.io-client';\nimport { MESSAGE, ERROR, JOIN, LEAVE } from '../../contants/socketEventTypes';\nimport { config } from '../../config';\n\nconst { SOCKET_ROOT } = config;\n\nexport default function() {\n  const socket = io.connect(SOCKET_ROOT);\n\n  socket.on(ERROR, function(err) {\n    console.log(err);\n  });\n\n  const receiveNewMessage = cb => {\n    socket.on(MESSAGE, cb);\n  };\n\n  const joinRoom = data => {\n    socket.emit(JOIN, data);\n  };\n\n  const sendMessage = data => {\n    socket.emit(MESSAGE, data);\n  };\n\n  const leaveRoom = roomId => {\n    socket.removeListener(MESSAGE);\n    socket.removeListener(ERROR);\n    socket.emit(LEAVE, roomId);\n  };\n\n  return {\n    joinRoom,\n    sendMessage,\n    receiveNewMessage,\n    leaveRoom\n  };\n}\n"],"mappings":"AAAA,OAAOA,EAAE,MAAM,kBAAkB;AACjC,SAASC,OAAO,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,QAAQ,iCAAiC;AAC7E,SAASC,MAAM,QAAQ,cAAc;AAAC,MAE9BC,WAAW,GAAKD,MAAM,CAAtBC,WAAW;AAEnB,eAAe,YAAW;EACxB,MAAMC,MAAM,GAAGP,EAAE,CAACQ,OAAO,CAACF,WAAW,CAAC;EAEtCC,MAAM,CAACE,EAAE,CAACP,KAAK,EAAE,UAASQ,GAAG,EAAE;IAC7BC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EAClB,CAAC,CAAC;EAEF,MAAMG,iBAAiB,GAAGC,EAAE,IAAI;IAC9BP,MAAM,CAACE,EAAE,CAACR,OAAO,EAAEa,EAAE,CAAC;EACxB,CAAC;EAED,MAAMC,QAAQ,GAAGC,IAAI,IAAI;IACvBT,MAAM,CAACU,IAAI,CAACd,IAAI,EAAEa,IAAI,CAAC;EACzB,CAAC;EAED,MAAME,WAAW,GAAGF,IAAI,IAAI;IAC1BT,MAAM,CAACU,IAAI,CAAChB,OAAO,EAAEe,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMG,SAAS,GAAGC,MAAM,IAAI;IAC1Bb,MAAM,CAACc,cAAc,CAACpB,OAAO,CAAC;IAC9BM,MAAM,CAACc,cAAc,CAACnB,KAAK,CAAC;IAC5BK,MAAM,CAACU,IAAI,CAACb,KAAK,EAAEgB,MAAM,CAAC;EAC5B,CAAC;EAED,OAAO;IACLL,QAAQ;IACRG,WAAW;IACXL,iBAAiB;IACjBM;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module"}