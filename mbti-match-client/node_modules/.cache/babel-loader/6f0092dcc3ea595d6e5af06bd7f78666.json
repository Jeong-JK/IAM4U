{"ast":null,"code":"import io from'socket.io-client';import{MESSAGE,ERROR,JOIN,LEAVE}from'../../contants/socketEventTypes';import{config}from'../../config';var SOCKET_ROOT=config.SOCKET_ROOT;export default function(){var socket=io(SOCKET_ROOT,{path:'/socket.io/',transports:['websocket'],secure:true});socket.on(ERROR,function(err){console.log(err);});var receiveNewMessage=function receiveNewMessage(cb){socket.on(MESSAGE,cb);};var joinRoom=function joinRoom(data){socket.emit(JOIN,data);};var sendMessage=function sendMessage(data){socket.emit(MESSAGE,data);};var leaveRoom=function leaveRoom(roomId){socket.removeListener(MESSAGE);socket.removeListener(ERROR);socket.emit(LEAVE,roomId);};return{joinRoom:joinRoom,sendMessage:sendMessage,receiveNewMessage:receiveNewMessage,leaveRoom:leaveRoom};}","map":{"version":3,"names":["io","MESSAGE","ERROR","JOIN","LEAVE","config","SOCKET_ROOT","socket","path","transports","secure","on","err","console","log","receiveNewMessage","cb","joinRoom","data","emit","sendMessage","leaveRoom","roomId","removeListener"],"sources":["C:/test/mbti-match-client/src/lib/socket/index.js"],"sourcesContent":["import io from 'socket.io-client';\nimport { MESSAGE, ERROR, JOIN, LEAVE } from '../../contants/socketEventTypes';\nimport { config } from '../../config';\n\nconst { SOCKET_ROOT } = config;\n\nexport default function() {\n  const socket = io(SOCKET_ROOT, {\n    path: '/socket.io/',\n    transports: ['websocket'],\n    secure: true,\n  });\n\n  socket.on(ERROR, function(err) {\n    console.log(err);\n  });\n\n  const receiveNewMessage = cb => {\n    socket.on(MESSAGE, cb);\n  };\n\n  const joinRoom = data => {\n    socket.emit(JOIN, data);\n  };\n\n  const sendMessage = data => {\n    socket.emit(MESSAGE, data);\n  };\n\n  const leaveRoom = roomId => {\n    socket.removeListener(MESSAGE);\n    socket.removeListener(ERROR);\n    socket.emit(LEAVE, roomId);\n  };\n\n  return {\n    joinRoom,\n    sendMessage,\n    receiveNewMessage,\n    leaveRoom\n  };\n}\n"],"mappings":"AAAA,MAAO,CAAAA,EAAE,KAAM,kBAAkB,CACjC,OAASC,OAAO,CAAEC,KAAK,CAAEC,IAAI,CAAEC,KAAK,KAAQ,iCAAiC,CAC7E,OAASC,MAAM,KAAQ,cAAc,CAAC,GAE9B,CAAAC,WAAW,CAAKD,MAAM,CAAtBC,WAAW,CAEnB,cAAe,WAAW,CACxB,GAAM,CAAAC,MAAM,CAAGP,EAAE,CAACM,WAAW,CAAE,CAC7BE,IAAI,CAAE,aAAa,CACnBC,UAAU,CAAE,CAAC,WAAW,CAAC,CACzBC,MAAM,CAAE,IACV,CAAC,CAAC,CAEFH,MAAM,CAACI,EAAE,CAACT,KAAK,CAAE,SAASU,GAAG,CAAE,CAC7BC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CAEF,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAGC,EAAE,CAAI,CAC9BT,MAAM,CAACI,EAAE,CAACV,OAAO,CAAEe,EAAE,CAAC,CACxB,CAAC,CAED,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAGC,IAAI,CAAI,CACvBX,MAAM,CAACY,IAAI,CAAChB,IAAI,CAAEe,IAAI,CAAC,CACzB,CAAC,CAED,GAAM,CAAAE,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAGF,IAAI,CAAI,CAC1BX,MAAM,CAACY,IAAI,CAAClB,OAAO,CAAEiB,IAAI,CAAC,CAC5B,CAAC,CAED,GAAM,CAAAG,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAGC,MAAM,CAAI,CAC1Bf,MAAM,CAACgB,cAAc,CAACtB,OAAO,CAAC,CAC9BM,MAAM,CAACgB,cAAc,CAACrB,KAAK,CAAC,CAC5BK,MAAM,CAACY,IAAI,CAACf,KAAK,CAAEkB,MAAM,CAAC,CAC5B,CAAC,CAED,MAAO,CACLL,QAAQ,CAARA,QAAQ,CACRG,WAAW,CAAXA,WAAW,CACXL,iBAAiB,CAAjBA,iBAAiB,CACjBM,SAAS,CAATA,SACF,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module"}