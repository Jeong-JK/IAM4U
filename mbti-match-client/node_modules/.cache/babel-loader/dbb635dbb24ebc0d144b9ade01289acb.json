{"ast":null,"code":"import io from'socket.io-client';import{MESSAGE,ERROR,JOIN,LEAVE}from'../../contants/socketEventTypes';import{config}from'../../config';var SOCKET_ROOT=config.SOCKET_ROOT;export default function(){var socket=io.connect(SOCKET_ROOT);socket.on(ERROR,function(err){console.log(err);});var receiveNewMessage=function receiveNewMessage(cb){socket.on(MESSAGE,cb);};var joinRoom=function joinRoom(data){socket.emit(JOIN,data);};var sendMessage=function sendMessage(data){socket.emit(MESSAGE,data);};var leaveRoom=function leaveRoom(roomId){socket.removeListener(MESSAGE);socket.removeListener(ERROR);socket.emit(LEAVE,roomId);};return{joinRoom:joinRoom,sendMessage:sendMessage,receiveNewMessage:receiveNewMessage,leaveRoom:leaveRoom};}","map":{"version":3,"names":["io","MESSAGE","ERROR","JOIN","LEAVE","config","SOCKET_ROOT","socket","connect","on","err","console","log","receiveNewMessage","cb","joinRoom","data","emit","sendMessage","leaveRoom","roomId","removeListener"],"sources":["C:/test/mbti-match-client/src/lib/socket/index.js"],"sourcesContent":["import io from 'socket.io-client';\nimport { MESSAGE, ERROR, JOIN, LEAVE } from '../../contants/socketEventTypes';\nimport { config } from '../../config';\n\nconst { SOCKET_ROOT } = config;\n\nexport default function() {\n  const socket = io.connect(SOCKET_ROOT);\n\n  socket.on(ERROR, function(err) {\n    console.log(err);\n  });\n\n  const receiveNewMessage = cb => {\n    socket.on(MESSAGE, cb);\n  };\n\n  const joinRoom = data => {\n    socket.emit(JOIN, data);\n  };\n\n  const sendMessage = data => {\n    socket.emit(MESSAGE, data);\n  };\n\n  const leaveRoom = roomId => {\n    socket.removeListener(MESSAGE);\n    socket.removeListener(ERROR);\n    socket.emit(LEAVE, roomId);\n  };\n\n  return {\n    joinRoom,\n    sendMessage,\n    receiveNewMessage,\n    leaveRoom\n  };\n}\n"],"mappings":"AAAA,MAAO,CAAAA,EAAE,KAAM,kBAAkB,CACjC,OAASC,OAAO,CAAEC,KAAK,CAAEC,IAAI,CAAEC,KAAK,KAAQ,iCAAiC,CAC7E,OAASC,MAAM,KAAQ,cAAc,CAAC,GAE9B,CAAAC,WAAW,CAAKD,MAAM,CAAtBC,WAAW,CAEnB,cAAe,WAAW,CACxB,GAAM,CAAAC,MAAM,CAAGP,EAAE,CAACQ,OAAO,CAACF,WAAW,CAAC,CAEtCC,MAAM,CAACE,EAAE,CAACP,KAAK,CAAE,SAASQ,GAAG,CAAE,CAC7BC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CAEF,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAGC,EAAE,CAAI,CAC9BP,MAAM,CAACE,EAAE,CAACR,OAAO,CAAEa,EAAE,CAAC,CACxB,CAAC,CAED,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAGC,IAAI,CAAI,CACvBT,MAAM,CAACU,IAAI,CAACd,IAAI,CAAEa,IAAI,CAAC,CACzB,CAAC,CAED,GAAM,CAAAE,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAGF,IAAI,CAAI,CAC1BT,MAAM,CAACU,IAAI,CAAChB,OAAO,CAAEe,IAAI,CAAC,CAC5B,CAAC,CAED,GAAM,CAAAG,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAGC,MAAM,CAAI,CAC1Bb,MAAM,CAACc,cAAc,CAACpB,OAAO,CAAC,CAC9BM,MAAM,CAACc,cAAc,CAACnB,KAAK,CAAC,CAC5BK,MAAM,CAACU,IAAI,CAACb,KAAK,CAAEgB,MAAM,CAAC,CAC5B,CAAC,CAED,MAAO,CACLL,QAAQ,CAARA,QAAQ,CACRG,WAAW,CAAXA,WAAW,CACXL,iBAAiB,CAAjBA,iBAAiB,CACjBM,SAAS,CAATA,SACF,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module"}